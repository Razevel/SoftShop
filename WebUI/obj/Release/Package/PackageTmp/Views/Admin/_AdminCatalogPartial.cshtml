@using Domain.Entities
@model IEnumerable<Domain.Entities.Product>

@{
    ViewBag.Title += "Каталог";
}

@foreach (Product p in Model)
{
    var alt = (p.Name + " " + p.About);
    alt = alt.Length > 50 ? alt.Substring(0, 50) : alt;
    
    <div class="product">
        <div style="width: 100%; height: 310px; overflow: hidden">
            <img src="~/images/@p.Category.PathPart/@p.ID/main-catalog-mini.jpg" alt="@alt" style="width: 100%;">
        </div>
        
        <h4 class="text-center" style="height: 50px">@p.Name</h4>
        
        <dl class="dl-horizontal" style="min-height: 100px;">

            <dt>ID</dt>
            <dd>@p.ID</dd>

            <dt>Подробнее</dt>
            <dd>@p.About</dd>

            <dt>Категория</dt>
            <dd>@p.Category.Name</dd>

            <dt>Количество</dt>
            <dd>@p.Quantity</dd>

            <dt>Базовая цена</dt>
            <dd>@p.BasePrice</dd>

            <dt>Скидка?</dt>
            <dd>@p.IsSale</dd>

            <dt>Размер скидки</dt>
            <dd>@p.SalePercent</dd>

        </dl>

        @Html.ActionLink("Редактировать", "ProductEdit", "Admin", new {id = p.ID}, new {@class="btn btn-success"})
            
        
    </div>
}